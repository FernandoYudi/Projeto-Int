(()=>{const o=[{descricao:"Nintendo Wii",codigo_barras:"123456789",quantidade_estoque:10,tipo_preco:"Varejo",imagem:"",preco:399.99},{descricao:"Bolsa",codigo_barras:"987654321",quantidade_estoque:15,tipo_preco:"Atacado",imagem:"",preco:29.99},{descricao:"Mouse Logitech",codigo_barras:"987654221",quantidade_estoque:20,tipo_preco:"Atacado",imagem:"",preco:49.99},{descricao:"Headset",codigo_barras:"987654244",quantidade_estoque:20,tipo_preco:"Atacado",imagem:"",preco:89.99}],a=[];document.addEventListener("DOMContentLoaded",(function(){o.forEach((t=>{document.getElementById(`adicionarAoCheckoutBtn${t.codigo_barras}`).addEventListener("click",(function(){const e=document.getElementById(`quantidadeSelect${t.codigo_barras}`),c=parseInt(e.value);!function(t,e){const c=o.find((o=>o.codigo_barras===t));if(!c)return void console.error(`Produto com código de barras ${t} não encontrado.`);const d=a.find((o=>o.codigo_barras===t));d?d.quantidade+=e:a.push({codigo_barras:t,descricao:c.descricao,quantidade:e,preco:c.preco}),console.log(`Produto ${t} adicionado ao checkout com quantidade ${e}`)}(t.codigo_barras,c),function(){const o=$("#checkoutItems"),t=$("#totalValue");let e=0;o.empty(),a.forEach((a=>{const t=`\n      <tr>\n        <td>${a.descricao}</td>\n        <td>${a.quantidade}</td>\n        <td>${a.preco.toFixed(2)}</td>\n        <td>${a.codigo_barras}</td>\n      </tr>\n    `;o.append(t),e+=a.quantidade*a.preco})),t.text(`Valor Total: R$ ${e.toFixed(2)}`)}()}))}))})),function(o){console.log(o);const a=$("#productList");a.empty(),o.forEach((o=>{const t=`\n      <div class="col-md-3 product-card" data-codigo="${o.codigo_barras}">\n        <div class="card text-center mb-3" style="width: 18rem;">\n          <img src="${o.imagem}" class="card-img-top" alt="${o.descricao}">\n          <div class="card-body">\n            <h5 class="card-title">${o.descricao}</h5>\n            <p class="card-text">Código de Barras: ${o.codigo_barras}</p>\n            <p class="card-text">Quantidade em Estoque: ${o.quantidade_estoque}</p>\n            <p class="card-text">Preço: ${o.tipo_preco}</p>\n\n            <label for="quantidadeSelect${o.codigo_barras}">Quantidade:</label>\n            <select id="quantidadeSelect${o.codigo_barras}" class="form-select">\n              <option value="1">1</option>\n              <option value="2">2</option>\n              <option value="3">3</option>\n\n            </select>\n            <button type="button" class="btn btn-primary mt-2" id="adicionarAoCheckoutBtn${o.codigo_barras}">\n              Adicionar ao Checkout\n            </button>\n          </div>\n        </div>\n      </div>\n    `;a.append(t)}))}(o),$("#searchButton").on("click",(function(){const a=$("#searchInput").val();searchProducts(a,o)}))})();